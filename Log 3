import xmlrpc.client

def Connect(ip="172.31.10.249", port=8069, db="HGABadCo", username="a.desc.pro@gmail.com", password="Auxence"):
    url = "http://{}:{}/xmlrpc/2".format(ip, port)
    common = xmlrpc.client.ServerProxy('{}/common'.format(url))
    uid = common.authenticate(db, username, password, {})
    models = xmlrpc.client.ServerProxy('{}/object'.format(url))

    return url, uid, models

def main():
    # Spécifiez les informations de connexion
    ip_address = "172.31.10.249"
    port_number = 8069
    db_name = "HGABadCo"
    user = "a.desc.pro@gmail.com"
    password = "Auxence"

    # Appel de la fonction Connect()
    url, uid, models = Connect(ip=ip_address, port=port_number, db=db_name, username=user, password=password)

    # Affichage de l'adresse URL de connexion
    print("Adresse URL de connexion : {}".format(url))

    # Récupération et affichage de la version d'Odoo
    version = models.execute_kw(db_name, uid, password, 'ir.config_parameter', 'get_param', ['web.version_info'])
    print("connexion")

if __name__ == "__main__":
    main()
